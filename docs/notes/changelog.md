# 更新日志

> 说明：该文件为阶段性整理，并非严格持续维护的 release notes。若与仓库实际代码/部署行为冲突，请以当前文档（尤其是 [container-apps-deployment.md](../guides/container-apps-deployment.md)）与 Git 历史为准。

## [2025-12-10] - UI优化与功能完善

### ✨ 新增功能
- **管理后台**: 完整的管理员系统,支持用户管理、数据统计、分析日志查看
- **配额系统**: 基于配额的使用计费,VIP用户无限配额
- **推荐系统**: 用户推荐奖励机制
- **多格式支持**: 支持 Excel、Word、PPT 格式成绩文件上传
- **AI分析**: 基于 Azure OpenAI GPT-4 的智能分析和建议生成
- **批量处理**: 支持最多50并发的批量学生成绩分析
- **文件存储**: 支持本地存储和 Azure Blob Storage

### 🎨 UI/UX 优化
- **莫兰迪配色**: 登录/注册页面采用柔和的教育主题配色
  - 浅蓝到浅绿的渐变背景
  - 现代化卡片设计(毛玻璃效果、20px圆角)
  - 优雅的输入框和按钮样式
- **主页面重构**:
  - 合并搜索和分析记录模块
  - 添加上传进度显示(上传中→解析中→AI分析中→完成)
  - 移除冗余的扣分项详情显示
  - 优化搜索功能(仅过滤当前文件,空搜索显示全部)
- **响应式设计**: 完美适配桌面和移动设备
- **国际化**: 中英文切换支持
- **主题切换**: 明暗主题切换

### 🔧 技术改进
- **数据库优化**: 
  - 添加 `file_size` 列到 `score_files` 表
  - 修正字段名不匹配问题
  - 创建数据库迁移脚本
- **超时优化**: 前端请求超时从30秒增加到180秒,适应大批量分析
- **错误处理**: 完善的错误日志和用户友好的错误提示
- **存储配置**: 本地开发环境使用本地存储,生产环境可切换到Azure

### 🐛 Bug修复
- 修复文件上传后无法显示结果的问题
- 修复响应数据解析错误
- 修复 `referral_code` 字段验证错误
- 修复JSX语法错误

### 📝 文档更新
- 更新 README.md,包含完整的功能说明和使用指南
- 添加详细的项目结构说明
- 添加API文档链接
- 添加开发和部署指南

### 🔒 安全改进
- Email字段设为可选,降低注册门槛
- 完善的JWT认证和密码加密
- 配额限制防止API滥用
- 文件类型验证

---

## 技术栈

### 后端
- FastAPI 0.104+
- SQLAlchemy + SQLite
- Azure OpenAI GPT-4
- JWT + bcrypt

### 前端
- React 18 + TypeScript
- Vite 5
- Ant Design 5
- Zustand状态管理
- React Router 6

---

## 待开发功能

- [ ] 历史记录页面
- [ ] 配额管理页面
- [ ] 忘记密码功能
- [ ] 数据可视化图表
- [ ] 更多导出格式(PDF等)
