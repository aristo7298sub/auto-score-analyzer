# ========================================
# Azure OpenAI（Responses API，推荐）
# ========================================
# 直接使用 /openai/v1/responses；模型名写到请求 body 的 model 字段。
AZURE_OPENAI_API_KEY=your-api-key-here
AZURE_OPENAI_RESPONSES_URL=https://your-resource-name.openai.azure.com/openai/v1/responses

# 可选：第二资源（故障切换，仅对可恢复错误：timeout/network/429/5xx）
AZURE_OPENAI_API_KEY_2=
AZURE_OPENAI_RESPONSES_URL_2=

# 模型（deployment name）
PARSING_MODEL=o4-mini
ANALYSIS_MODEL=gpt-4.1-nano

# 可选：第二资源上的模型名（不填则 fallback 使用同一个 model 字段值）
PARSING_MODEL_2=
ANALYSIS_MODEL_2=

# 推理模型参数（o4-mini 等 reasoning 模型不支持 temperature）
PARSING_REASONING_EFFORT=high

# 分析模型可用 temperature
ANALYSIS_TEMPERATURE=0.5

# 超时与重试（/responses）
OPENAI_REQUEST_TIMEOUT_SECONDS=600
OPENAI_REQUEST_MAX_RETRIES=2
OPENAI_REQUEST_RETRY_BACKOFF_SECONDS=0.8
OPENAI_REQUEST_RETRY_MAX_BACKOFF_SECONDS=8.0

# ========================================
# Azure OpenAI（Legacy，可选兼容）
# ========================================
# 若不设置 AZURE_OPENAI_RESPONSES_URL，则会根据 AZURE_OPENAI_ENDPOINT 推导。
AZURE_OPENAI_ENDPOINT=
AZURE_OPENAI_DEPLOYMENT_NAME=
AZURE_OPENAI_API_VERSION=

# ========================================
# 存储配置
# ========================================
# 存储类型：'local' 或 'azure'
STORAGE_TYPE=local

# Azure Blob Storage（仅当STORAGE_TYPE=azure时需要）
AZURE_STORAGE_CONNECTION_STRING=your-connection-string-here
AZURE_STORAGE_ACCOUNT_NAME=your-storage-account-name
AZURE_STORAGE_ACCOUNT_KEY=your-storage-account-key
AZURE_STORAGE_BLOB_ENDPOINT=https://your-storage-account.blob.core.windows.net/

# Blob Container 名称
AZURE_STORAGE_UPLOADS_CONTAINER=uploads
AZURE_STORAGE_EXPORTS_CONTAINER=exports
AZURE_STORAGE_CHARTS_CONTAINER=charts

# 本地存储路径（仅当 STORAGE_TYPE=local 时使用）
LOCAL_UPLOADS_DIR=uploads
LOCAL_EXPORTS_DIR=exports
LOCAL_CHARTS_DIR=static/charts
LOCAL_DATA_DIR=data

# ========================================
# 应用配置
# ========================================
# 后端配置
DEBUG=True
HOST=0.0.0.0
PORT=8000

# 后端API地址（前端使用）
BACKEND_URL=http://localhost:8000

# CORS允许的源
CORS_ORIGINS=["http://localhost:5173","http://localhost:3000","http://localhost"]

# ========================================
# 日志配置
# ========================================
LOG_LEVEL=INFO

# ========================================
# Email (Stage-1 auth)
# ========================================
# dev | acs | disabled
EMAIL_PROVIDER=dev

# Azure Communication Services Email (required when EMAIL_PROVIDER=acs)
ACS_EMAIL_CONNECTION_STRING=<your-acs-connection-string>
ACS_EMAIL_SENDER=no-reply@<primary-domain>

# Dev-only: log verification codes to server logs
EMAIL_LOG_CODES_IN_DEV=true
